{% extends 'layout.html' %}
{% block content %}



<head>
    <title>List of Books</title>
</head>

<style>
    table, th, td {
      border:1px solid black;
    }

    table.book_list td:nth-child(4){
        width:100px;
        position: relative;
    }

    table.book_list td:nth-child(4) div{
        background-color: gold;
        position: absolute;
        top:0;
        left:0;
        height:18px;
        z-index: 100;
    }
    table.book_list td:nth-child(4) img{
        position: absolute;
        top:0;
        left:0;
        width: 100%;
        z-index:110;
    }
</style>

<body>

    <table class="book_list" style="width:100%">

        <tr>
            <th>ID</th>
            <th>Title</th>
            <th>Author</th>
            <th>Rating</th>
        </tr>
            {% for book in books %}
              <tr>

                  <td>
                      <form method="POST" action="/single_book" class="inline">
                          <input type="hidden" name="book_id" value="{{ book.book_id }}">
                          <button type="submit" name="submit_param" value="submit_value" class="link-button">
                            {{ book.book_id }}
                          </button>
                      </form>
                  </td>

                  <td>
                    {{ book.title }}
                  </td>

                  <td>
                    {% for author in book.authors %}
                        {{ author.full_name }}<br>
                    {% endfor %}
                  </td>

                  <td>
                      <div style="width: calc(20% * {{ book.average_rating }})"></div>
                          <img src="{{ url_for('static', filename='images/stars.png') }}" alt="{{ book.average_rating }}" title="{{ book.average_rating }}">

                  </td>
              </tr>
            {% endfor %}
    </table>



</body>

{% endblock %}
